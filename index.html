<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>MeetForEat – Быстрая доставка вкусной еды</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="media-query.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="icon" href="https://fearise.github.io/meetforeat/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="https://fearise.github.io/meetforeat/favicon.ico" type="image/x-icon" />
</head>
<body>

<!-- Навигация -->
<nav class="nav" id="nav">
    <div class="logo">
        <a href="index.html">
            <img src="logo.png" alt="MeetForEat" />
        </a>
    </div>
    <div class="nav-menu">
        <a class="nav_item" href="catalog.html">Меню</a>
        <a class="nav_item" href="gallery.html">Галерея</a>
        <a class="nav_item" href="support.html">Поддержка</a>
        <a class="nav_item" href="about.html">О нас</a>
        <a class="nav_item" href="profile.html">Профиль</a>
        <p>
            <a class="nav_item" href="cart.html">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count" class="cart-counter">0</span>
            </a>
        </p>
        
        
        <a class="nav_item" href="login.html">Войти</a>
        <a class="nav_item" href="reg.html">Регистрация</a>
        
    </div>
</nav>

<!-- Кнопка "Наверх" -->
<div class="butt-up">
    <button class="btn-up btn-up_hide" id="btn-up"><i class="fas fa-arrow-up"></i></button>
</div>

<main>
    <!-- Слайдер -->
    <section class="block_one">
        <div class="slider" id="slider">
            <div class="slides" id="slides">
                <!-- Пример слайда -->
                <div class="slide active">
                    <img src="Бургер1.jpg" alt="Название блюда" />
                    <div class="description">
                        <h3>Бургер</h3>
                        <p>бургер бургер бургер</p>
                        <div class="price">
                            <span style="text-decoration: line-through; color: #ccc;">100,00 ₽</span>
                            <b>80,00 ₽</b>
                            <span class="discount-badge">-20%</span>
                        </div>
                        <a href="catalog.php" class="slide-btn">Заказать</a>
                    </div>
                </div>
                <!-- Добавьте остальные слайды по необходимости -->
            </div>
            <div class="slider-dots" id="slider-dots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
                <!-- и так далее -->
            </div>
        </div>
    </section>

    <!-- Карточки товаров -->
    <section class="cards-section">
        <h2 class="section-title">Популярные блюда</h2>
        <div class="products-main" id="products-container">
            <!-- Пример карточки -->
            <div class="product-card-main" data-category="Категория">
                <div class="product-badge-main discount">-15%</div>
                <div class="product-img-wrapper-main">
                    <img src="Пицца1.jpg" alt="Название блюда" class="product-img-main" />
                </div>
                <div class="product-info-main">
                    <h3 class="product-title-main">Пицца</h3>
                    <p class="product-desc-main">пицца</p>
                    <p class="product-price-main">
                        <b>80,00 ₽</b>
                        <span class="old-price-main">100,00 ₽</span>
                    </p>
                    <div
                        class="buttons-main"
                        style="display: flex; gap: 10px; margin-top: 12px; padding: 0 16px 16px;"
                    >
                        <form class="add-to-cart-form" method="POST" action="/cart/add_to_cart.php" style="flex: 1;">
                            <input type="hidden" name="product_id" value="1" />
                            <input type="hidden" name="name" value="Название блюда" />
                            <input type="hidden" name="price" value="80.00" />
                            <button type="submit" class="btn-main btn-buy-main" style="width: 100%; text-decoration: none;">
                                <i class="fas fa-plus"></i> В корзину
                            </button>
                        </form>
                        <a
                            href="item_info.php?id=1"
                            class="btn-main btn-details-main"
                            style="width: 48px; min-width: 48px; text-decoration: none; display: flex; align-items: center; justify-content: center;"
                        >
                            <i class="fas fa-info-circle"></i>
                        </a>
                    </div>
                </div>
            </div>
            <!-- Повторяйте карточки по необходимости -->
        </div>
    </section>

    <!-- Преимущества -->
    <section class="features">
        <div class="feature-box">
            <i class="fas fa-motorcycle fa-3x"></i>
            <h4>Доставка за 30 минут</h4>
            <p>Горячая еда уже через полчаса — или бесплатно!</p>
        </div>
        <div class="feature-box">
            <i class="fas fa-heart fa-3x"></i>
            <h4>Готовим с любовью</h4>
            <p>Свежие ингредиенты и проверенные рецепты.</p>
        </div>
        <div class="feature-box">
            <i class="fas fa-shield-alt fa-3x"></i>
            <h4>Гарантия качества</h4>
            <p>Проверяем каждое блюдо перед отправкой.</p>
        </div>
    </section>
</main>

<!-- Футер -->
<footer class="footer">
    <div class="footer-col">
        <h4>Меню</h4>
        <ul>
            <li><a href="../catalog/catalog.php?category=Бургеры">Бургеры</a></li>
            <li><a href="../catalog/catalog.php?category=Пицца">Пицца</a></li>
            <li><a href="../catalog/catalog.php?category=Суши">Суши</a></li>
            <li><a href="../catalog/catalog.php?category=Шаурма">Шаурма</a></li>
            <li><a href="../catalog/catalog.php?category=Выпечка">Выпечка</a></li>
        </ul>
    </div>
    <div class="footer-col">
        <h4>О нас</h4>
        <ul>
            <li><a href="../about/about.php">О компании</a></li>
            <li><a href="../gallery/gallery.php">Галерея</a></li>
            <li><a href="../support/support.php">Поддержка</a></li>
        </ul>
    </div>
    <div class="footer-col">
        <h4>Контакты</h4>
        <ul>
            <li><i class="fas fa-phone"></i> 8 800 555 35 35</li>
            <li><i class="fas fa-envelope"></i> info@meetforeat.ru</li>
            <li><i class="fas fa-map-marker-alt"></i> Москва, ул. Енисейская, 15</li>
        </ul>
    </div>
    <div class="footer-col">
        <h4>Мы в соцсетях</h4>
        <div class="social-icons">
            <a href="#"><i class="fab fa-vk"></i></a>
            <a href="#"><i class="fab fa-telegram"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // === КНОПКА "НАВЕРХ" ===
        const btnUp = document.getElementById('btn-up');
        if (btnUp) {
            window.addEventListener('scroll', () => {
                btnUp.classList.toggle('btn-up_show', window.scrollY > 300);
            });
            btnUp.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // === ОБНОВЛЕНИЕ СЧЁТЧИКА ===
        function updateCartCount(newCount) {
            const counter = document.getElementById('cart-count');
            if (counter) {
                counter.textContent = newCount;
                // Анимация
                counter.style.animation = 'none';
                setTimeout(() => {
                    counter.style.animation = 'pop 0.3s ease';
                }, 10);
            }
        }

        // === ДОБАВЛЕНИЕ В КОРЗИНУ ===
        const forms = document.querySelectorAll('.add-to-cart-form');
        forms.forEach(form => {
            form.addEventListener('submit', function (e) {
                e.preventDefault();
                const formData = new FormData(this);

                fetch('/cart/add_to_cart.php', {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    if (!response.ok) throw new Error('Ошибка сети');
                    return response.json();
                })
                .then(data => {
                    if (data.success && data.count !== undefined) {
                        updateCartCount(data.count);
                    } else {
                        alert('Ошибка: ' + (data.message || 'Неизвестная'));
                    }
                })
                .catch(err => {
                    console.error('Ошибка:', err);
                    alert('Не удалось добавить в корзину.');
                });
            });
        });

        // === СЛАЙДЕР ===
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        if (slides.length === 0) return;
        let currentSlide = 0;
        function showSlide(index) {
            slides.forEach((s, i) => s.classList.toggle('active', i === index));
            dots.forEach((d, i) => d.classList.toggle('active', i === index));
            currentSlide = index;
        }
        setInterval(() => {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }, 5000);
        dots.forEach((dot, i) => {
            dot.addEventListener('click', () => showSlide(i));
        });
        showSlide(0);
    });
</script>
</body>
</html>





